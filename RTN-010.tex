\documentclass[DM,authoryear,toc]{lsstdoc}
% lsstdoc documentation: https://lsst-texmf.lsst.io/lsstdoc.html
\input{meta}

% Package imports go here.

% Local commands go here.

%If you want glossaries
%\input{aglossary.tex}
%\makeglossaries

\title{Pre-operations Alert Distribution Integration Exercises}

% Optional subtitle
% \setDocSubtitle{A subtitle}

\author{%
Eric Bellm
}

\setDocRef{RTN-010}
\setDocUpstreamLocation{\url{https://github.com/rubin-observatory/rtn-010}}

\date{\vcsDate}

% Optional: name of the document's curator
% \setDocCurator{The Curator of this Document}

\setDocAbstract{%
This document describes activities to integrate the Rubin Alert Distribution system with community alert brokers prior to the availability of live LSSTCam alerts.
}

% Change history defined here.
% Order: oldest first.
% Fields: VERSION, DATE, DESCRIPTION, OWNER NAME.
% See LPM-51 for version number policy.
\setDocChangeRecord{%
  \addtohist{1}{2023-06-14}{Initial release.}{Eric Bellm}
}


\begin{document}

% Create the title page.
\maketitle
% Frequently for a technote we do not want a title page  uncomment this to remove the title page and changelog.
% use \mkshorttitle to remove the extra pages
\section{Background}

Community alert brokers provide the public interface to the LSST alert stream and are critical partners for delivering Rubin data to scientists worldwide.
\citeds{LDM-612} provides an overview of LSST alert distribution and the process through which seven alert brokers were chosen to directly receive the full LSST alert stream.
Two additional brokers were encouraged to operate downstream.

No Rubin requirements constrain the operations or performance of community alert brokers, so formal verification of the brokers during commissioning is not required.
Nevertheless both technical and scientific validation are needed prior to the start of Alert Production with LSSTCam.
Similarly, network interfaces and throughput from the USDF to brokers should be optimized in advance of science alerts.
Accordingly we are planning a series of pre-operations integration activities to support community broker development in the Pre-Operations period.

\section{Policies}

Only world-public data will be sent to brokers via the Rubin Alert Distribution System, both during the integration activities described here as well as during the main survey.
Rubin will not place any embargo period on data sent to brokers.

\citeds{RTN-061} describes the prerequisites for releasing the first public LSSTCam alerts to brokers and scientists worldwide.
This document describes integration activities that will take place prior to that milestone.

All seven full-stream brokers will be invited to participate equally in these activities.
Downstream brokers are encouraged to coordinate with their supporting upstream broker.

\section{Static Bulk Alerts}

DM regularly reprocesses several precursor datasets from DECam, HSC, and DC2.
Bulk alert samples from these reprocessings are already available at \url{https://github.com/lsst-dm/sample_alert_info}.
We will regularly update these samples throughout the pre-operations period to capture changes in alert schemas as well as the evolving performance of the Rubin Science Pipelines.

\section{Simulated Alert Streams at the USDF}

We have made a simulated alert stream available to brokers in the Google Cloud-based IDF.
Once we have completed the migration, we will provide a similar facility from the USDF.

At this time, we expect to use alerts from the DESC DC2 simulation for this sample stream.

We will also explore provide ``heartbeat'' alerts from our nightly continuous integration processing that could be used by brokers.

\subsection{Scale and Throughput Testing}

We intend to test the throughput and latency of the Alert Distribution System and downstream network interfaces.
During agreed-upon test periods, we will send high volumes of alerts through the Alert Distribution System.
We will work with broker teams to measure transmission latency with an aim to identifying and removing network bottlenecks.
While Rubin is required to be able to transmit the full stream out of the USDF, the network environment beyond the USDF is outside of our control, so such optimizations will be on a best-effort basis.

\subsection{First Alert Dress Rehearsal}

Prior to the alert release milestone described in \citeds{RTN-061}, we will conduct a multi-day dress rehearsal with all brokers to ensure readiness for the initial alert release.  
Again, we expect this dress rehearsal to use alerts generated from DC2 images.

\subsection{Communication Channels}

We will provide major updates through \url{http://community.lsst.org}. 
We will use a private Slack channel in the LSSTC Slack workspace for realtime discussions during major test campaigns.

\appendix
% Include all the relevant bib files.
% https://lsst-texmf.lsst.io/lsstdoc.html#bibliographies
\section{References} \label{sec:bib}
\renewcommand{\refname}{} % Suppress default Bibliography section
\bibliography{local,lsst,lsst-dm,refs_ads,refs,books}

% Make sure lsst-texmf/bin/generateAcronyms.py is in your path
\section{Acronyms} \label{sec:acronyms}
\input{acronyms.tex}
% If you want glossary uncomment below -- comment out the two lines above
%\printglossaries





\end{document}
